(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{102:function(e,t,n){"use strict";n.r(t);var r=n(0),a=(n(96),n(94)),o=n(20),c=n.n(o),i=n(92),l=n(28),s=n(10),u=n(21),b=n(5),f=n(15);function m(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var l=r&&r.prototype instanceof i?r:i,s=Object.create(l.prototype);return p(s,"_invoke",function(n,r,a){var o,i,l,s=0,u=a||[],b=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return o=t,i=0,l=e,f.n=n,c}};function m(n,r){for(i=n,l=r,t=0;!b&&s&&!a&&t<u.length;t++){var a,o=u[t],m=f.p,p=o[2];n>3?(a=p===r)&&(l=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=m&&((a=n<2&&m<o[1])?(i=0,f.v=r,f.n=o[1]):m<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,f.n=p,i=0))}if(a||n>1)return c;throw b=!0,r}return function(a,u,p){if(s>1)throw TypeError("Generator is already running");for(b&&1===u&&m(u,p),i=u,l=p;(t=i<2?e:l)||!b;){o||(i?i<3?(i>1&&(f.n=-1),m(i,l)):f.n=l:f.v=l);try{if(s=2,o){if(i||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=e}else if((t=(b=f.n<0)?l:n.call(r,f))!==c)break}catch(t){o=e,i=1,l=t}finally{s=1}}return{value:t,done:b}}}(n,a,o),!0),s}var c={};function i(){}function l(){}function s(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(p(t={},r,(function(){return this})),t),b=s.prototype=i.prototype=Object.create(u);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,p(e,a,"GeneratorFunction")),e.prototype=Object.create(b),e}return l.prototype=s,p(b,"constructor",s),p(s,"constructor",l),l.displayName="GeneratorFunction",p(s,a,"GeneratorFunction"),p(b),p(b,a,"Generator"),p(b,r,(function(){return this})),p(b,"toString",(function(){return"[object Generator]"})),(m=function(){return{w:o,m:f}})()}function p(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}(p=function(e,t,n,r){function o(t,n){p(e,t,(function(e){return this._invoke(t,n,e)}))}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))})(e,t,n,r)}function w(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,c,i=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){var e=location&&location.search?Object(s.parse)(location.search.substring(1)):{},t=y(Object(r.useState)(!1),2),n=t[0],o=t[1],p=y(Object(r.useState)(!1),2),d=p[0],O=p[1],h=y(Object(r.useState)(!1),2),j=h[0],v=h[1],g=y(Object(r.useState)(!1),2),k=g[0],E=g[1],_=y(Object(r.useState)(""),2),N=_[0],S=_[1],C=Object(i.a)(),P=C.setIsRightHeader,x=C.setIsEnableGateways,I=C.setIsEnableWebhook,T=C.setExpressCheckout,A=function(){var e,t=(e=m().m((function e(){var t,n;return m().w((function(e){for(;;)switch(e.p=e.n){case 0:return v(!0),e.p=1,t={webhook:{action:"save_webhook"}},e.n=2,c()({path:"fkwcs-onboard/enable-webhook",method:"POST",data:t}).then((function(e){e.status?(I("success"),T("active"),O(!0),v(!1)):(E(!0),v(!1),S(e.msg))}));case 2:e.n=4;break;case 3:e.p=3,n=e.v,console.log(n);case 4:return e.a(2)}}),e,null,[[1,3]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){w(o,r,a,c,i,"next",e)}function i(e){w(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){d&&Object(l.b)({},"/checkout",e)}),[d]),Object(r.useEffect)((function(){P(!0),x("success"),I("active")}),[]);return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-container"},!d&&Object(r.createElement)("div",{className:"bwf-webhook-container"},Object(r.createElement)("div",{className:"bwf-align-center bwf-mb-16 bwf-mt-48"},Object(r.createElement)("img",{src:"".concat(bwfsg.images_dir,"WebHook.png"),className:""})),Object(r.createElement)("div",{className:"bwf-title bwf-mb-4"},Object(b.__)("Setup Webhook","funnelkit-stripe-woo-payment-gateway")),Object(r.createElement)("p",{className:"bwf-description bwf-mb-24 bwf-align-center"},Object(b.__)("Create Webhook automatically and set up to listen to various Events with a single click.","funnelkit-stripe-woo-payment-gateway")),Object(r.createElement)("div",null,Object(r.createElement)("div",{className:"bwf-webhook-title bwf-mb-8"},Object(b.__)("This is the list of the supported webhook events:","funnelkit-stripe-woo-payment-gateway")),Object(r.createElement)("div",{className:"bwf-webhook-description"},["Charge Captured","Charge Refunded","Charge Dispute Created","Charge Dispute Closed","Payment Intent Succeded","Payment Intent Amount Capturable Update","Payment Intent Payment Failed","Review Opened","Review Closed"].map((function(e,t){return Object(r.createElement)("span",{className:"bwf-webhook-points",key:t},"â€¢",Object(r.createElement)("span",{className:"bwf-ml-6"},Object(b.__)(e,"funnelkit-stripe-woo-payment-gateway")))})))),Object(r.createElement)("div",{className:"bwf-align-center bwf-flex bwf-flex-col bwf-mt-24"},!k&&Object(r.createElement)(f.a,{isPrimary:!0,className:"bwf-button",onClick:A,isBusy:j,disabled:j},Object(b.__)("Setup Webhook Now","funnelkit-stripe-woo-payment-gateway")),k&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-retry-container bwf-mt-24"},Object(r.createElement)("div",{className:"bwf-flex bwf-gap-10 bwf-float-left bwf-ml-18 bwf-mt-10"},Object(r.createElement)(u.a,{icon:"caution"}),Object(r.createElement)("div",{className:"bwf-error-msg-container"},Object(r.createElement)("span",{className:"bwf-retry-text"},Object(b.__)(N,"funnelkit-stripe-woo-payment-gateway")))),Object(r.createElement)("div",{className:"bwf-flex bwf-gap-10 bwf-float-right bwf-mr-16 bwf-mt-8"},Object(r.createElement)("button",{className:"bwf-manually-btn",onClick:function(){return o(!0)}},Object(b.__)("Do it Manually","funnelkit-stripe-woo-payment-gateway")),Object(r.createElement)(f.a,{isBusy:j,className:"bwf-retry-btn ".concat(j?"isBusy":""),onClick:A},Object(b.__)("Retry","funnelkit-stripe-woo-payment-gateway")))),Object(r.createElement)(f.a,{className:"components-button is-secondary bwf-mt-12",onClick:function(){Object(l.b)({},"/checkout",e)}},Object(b.__)("Skip this Step","funnelkit-stripe-woo-payment-gateway"))))),n&&Object(r.createElement)(a.a,{onCloseModal:function(){return o(!1)},onSuccess:function(){o(!1),O(!0)}})))}}}]);